{"version":3,"file":"service.js","names":["getConfig","getAuthenticatedHttpClient","QueryString","loginRequest","creds","requestConfig","headers","isPublic","data","post","LMS_BASE_URL","stringify","catch","e","redirectUrl","redirect_url","success"],"sources":["../../../../src/forms/login-popup/data/service.js"],"sourcesContent":["import { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\nimport QueryString from 'query-string';\n\n/**\n * Function for making a login request to the server.\n * This function sends a POST request to the login endpoint with the provided credentials.\n * @param {object} creds - The login credentials to be sent to the server.\n * @returns {object} An object containing the redirect URL and success status.\n */\nexport default async function loginRequest(creds) {\n  const requestConfig = {\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n    isPublic: true,\n  };\n\n  const { data } = await getAuthenticatedHttpClient()\n    .post(\n      `${getConfig().LMS_BASE_URL}/api/user/v2/account/login_session/`,\n      QueryString.stringify(creds),\n      requestConfig,\n    )\n    .catch((e) => {\n      throw (e);\n    });\n\n  return {\n    redirectUrl: data.redirect_url || `${getConfig().LMS_BASE_URL}/dashboard`,\n    success: data.success || false,\n  };\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,wBAAwB;AAClD,SAASC,0BAA0B,QAAQ,6BAA6B;AACxE,OAAOC,WAAW,MAAM,cAAc;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAeC,YAAYA,CAACC,KAAK,EAAE;EAChD,MAAMC,aAAa,GAAG;IACpBC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAoC,CAAC;IAChEC,QAAQ,EAAE;EACZ,CAAC;EAED,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMP,0BAA0B,CAAC,CAAC,CAChDQ,IAAI,CACF,GAAET,SAAS,CAAC,CAAC,CAACU,YAAa,qCAAoC,EAChER,WAAW,CAACS,SAAS,CAACP,KAAK,CAAC,EAC5BC,aACF,CAAC,CACAO,KAAK,CAAEC,CAAC,IAAK;IACZ,MAAOA,CAAC;EACV,CAAC,CAAC;EAEJ,OAAO;IACLC,WAAW,EAAEN,IAAI,CAACO,YAAY,IAAK,GAAEf,SAAS,CAAC,CAAC,CAACU,YAAa,YAAW;IACzEM,OAAO,EAAER,IAAI,CAACQ,OAAO,IAAI;EAC3B,CAAC;AACH","ignoreList":[]}