{"version":3,"file":"utils.js","names":["validateEmail","validateName","validatePasswordField","isFormValid","payload","errors","formatMessage","fieldErrors","_objectSpread","isValid","emailSuggestion","suggestion","type","Object","keys","forEach","key","name","fieldError","email","password"],"sources":["../../../../src/forms/registration-popup/data/utils.js"],"sourcesContent":["import validateEmail from '../../fields/email-field/validator';\nimport validateName from '../../fields/name-field/validator';\nimport validatePasswordField from '../../fields/password-field/validator';\n\n/**\n * It accepts complete registration data as payload and checks if the form is valid.\n * @param payload\n * @param errors\n * @param configurableFormFields\n * @param fieldDescriptions\n * @param formatMessage\n * @returns {{fieldErrors, isValid: boolean}}\n */\nconst isFormValid = (\n  payload,\n  errors,\n  formatMessage,\n) => {\n  const fieldErrors = { ...errors };\n  let isValid = true;\n  let emailSuggestion = { suggestion: '', type: '' };\n\n  Object.keys(payload).forEach(key => {\n    switch (key) {\n    case 'name':\n      fieldErrors.name = validateName(payload.name, formatMessage);\n      if (fieldErrors.name) { isValid = false; }\n      break;\n    case 'email': {\n      const {\n        fieldError, suggestion,\n      } = validateEmail(payload.email, formatMessage);\n      if (fieldError) {\n        fieldErrors.email = fieldError;\n        isValid = false;\n      }\n      emailSuggestion = suggestion;\n      if (fieldErrors.email) { isValid = false; }\n      break;\n    }\n    case 'password':\n      fieldErrors.password = validatePasswordField(payload.password, formatMessage);\n      if (fieldErrors.password) { isValid = false; }\n      break;\n    default:\n      break;\n    }\n  });\n\n  return { isValid, fieldErrors, emailSuggestion };\n};\n\nexport default isFormValid;\n"],"mappings":";;;;;AAAA,OAAOA,aAAa,MAAM,oCAAoC;AAC9D,OAAOC,YAAY,MAAM,mCAAmC;AAC5D,OAAOC,qBAAqB,MAAM,uCAAuC;;AAEzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,WAAW,GAAGA,CAClBC,OAAO,EACPC,MAAM,EACNC,aAAa,KACV;EACH,MAAMC,WAAW,GAAAC,aAAA,KAAQH,MAAM,CAAE;EACjC,IAAII,OAAO,GAAG,IAAI;EAClB,IAAIC,eAAe,GAAG;IAAEC,UAAU,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAG,CAAC;EAElDC,MAAM,CAACC,IAAI,CAACV,OAAO,CAAC,CAACW,OAAO,CAACC,GAAG,IAAI;IAClC,QAAQA,GAAG;MACX,KAAK,MAAM;QACTT,WAAW,CAACU,IAAI,GAAGhB,YAAY,CAACG,OAAO,CAACa,IAAI,EAAEX,aAAa,CAAC;QAC5D,IAAIC,WAAW,CAACU,IAAI,EAAE;UAAER,OAAO,GAAG,KAAK;QAAE;QACzC;MACF,KAAK,OAAO;QAAE;UACZ,MAAM;YACJS,UAAU;YAAEP;UACd,CAAC,GAAGX,aAAa,CAACI,OAAO,CAACe,KAAK,EAAEb,aAAa,CAAC;UAC/C,IAAIY,UAAU,EAAE;YACdX,WAAW,CAACY,KAAK,GAAGD,UAAU;YAC9BT,OAAO,GAAG,KAAK;UACjB;UACAC,eAAe,GAAGC,UAAU;UAC5B,IAAIJ,WAAW,CAACY,KAAK,EAAE;YAAEV,OAAO,GAAG,KAAK;UAAE;UAC1C;QACF;MACA,KAAK,UAAU;QACbF,WAAW,CAACa,QAAQ,GAAGlB,qBAAqB,CAACE,OAAO,CAACgB,QAAQ,EAAEd,aAAa,CAAC;QAC7E,IAAIC,WAAW,CAACa,QAAQ,EAAE;UAAEX,OAAO,GAAG,KAAK;QAAE;QAC7C;MACF;QACE;IACF;EACF,CAAC,CAAC;EAEF,OAAO;IAAEA,OAAO;IAAEF,WAAW;IAAEG;EAAgB,CAAC;AAClD,CAAC;AAED,eAAeP,WAAW","ignoreList":[]}