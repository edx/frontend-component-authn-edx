{"version":3,"file":"reducers.js","names":["createSlice","COMPLETE_STATE","DEFAULT_STATE","PENDING_STATE","storeName","REGISTER_SLICE_NAME","registerInitialState","submitState","validationState","registrationError","registrationResult","registrationFields","marketingEmailsOptIn","userPipelineDataLoaded","validationApiRateLimited","validations","registerSlice","name","initialState","reducers","registerUser","state","registerUserSuccess","_ref","payload","registerUserFailed","_ref2","fetchRealtimeValidations","fetchRealtimeValidationsSuccess","_ref3","fetchRealtimeValidationsFailed","clearRegistrationBackendError","_ref4","registrationErrorTemp","clearAllRegistrationErrors","setRegistrationFields","_ref5","actions","reducer"],"sources":["../../../../src/forms/registration-popup/data/reducers.js"],"sourcesContent":["/**\n * Redux slice for managing registration state.\n * This slice handles the registration process, including the submission state,\n * registration result, and any registration errors.\n */\n\nimport { createSlice } from '@reduxjs/toolkit';\n\nimport { COMPLETE_STATE, DEFAULT_STATE, PENDING_STATE } from '../../../data/constants';\n\nexport const storeName = 'register';\nexport const REGISTER_SLICE_NAME = 'register';\n\nexport const registerInitialState = {\n  submitState: DEFAULT_STATE,\n  validationState: DEFAULT_STATE,\n  registrationError: {},\n  registrationResult: {},\n  registrationFields: { marketingEmailsOptIn: true },\n  userPipelineDataLoaded: false,\n  validationApiRateLimited: false,\n  validations: null,\n};\n\nexport const registerSlice = createSlice({\n  name: REGISTER_SLICE_NAME,\n  initialState: registerInitialState,\n  reducers: {\n    registerUser: (state) => {\n      state.submitState = PENDING_STATE;\n      state.registrationError = {};\n    },\n    registerUserSuccess: (state, { payload }) => {\n      state.submitState = COMPLETE_STATE;\n      state.registrationResult = payload;\n    },\n    registerUserFailed: (state, { payload }) => {\n      state.registrationError = payload;\n      state.registrationResult = {};\n      state.validations = null;\n      state.submitState = DEFAULT_STATE;\n    },\n    fetchRealtimeValidations: (state) => {\n      state.validationState = PENDING_STATE;\n      state.validations = null;\n    },\n    fetchRealtimeValidationsSuccess: (state, { payload }) => {\n      state.validationState = COMPLETE_STATE;\n      state.validations = payload;\n    },\n    fetchRealtimeValidationsFailed: (state) => {\n      state.validationApiRateLimited = true;\n      state.validations = null;\n      state.validationState = DEFAULT_STATE;\n    },\n    clearRegistrationBackendError: (state, { payload }) => {\n      const registrationErrorTemp = state.registrationError;\n      delete registrationErrorTemp[payload];\n      state.registrationError = registrationErrorTemp;\n    },\n    clearAllRegistrationErrors: (state) => {\n      state.registrationError = {};\n      state.validations = null;\n    },\n    setRegistrationFields: (state, { payload }) => {\n      state.registrationFields = payload;\n    },\n  },\n});\n\nexport const {\n  registerUser,\n  registerUserSuccess,\n  registerUserFailed,\n  setRegistrationFields,\n  fetchRealtimeValidations,\n  fetchRealtimeValidationsSuccess,\n  fetchRealtimeValidationsFailed,\n  clearAllRegistrationErrors,\n  clearRegistrationBackendError,\n} = registerSlice.actions;\n\nexport default registerSlice.reducer;\n"],"mappings":"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","ignoreList":[]}