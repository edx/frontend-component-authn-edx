{"version":3,"file":"index.js","names":["React","useIntl","PropTypes","validateName","useDispatch","clearRegistrationBackendError","TextField","NameField","props","formatMessage","dispatch","handleErrorChange","errorMessage","handleOnBlur","e","value","target","fieldError","handleOnFocus","createElement","_extends","handleBlur","handleFocus","propTypes","string","isRequired","handleChange","func"],"sources":["../../../../src/forms/fields/name-field/index.jsx"],"sourcesContent":["import React from 'react';\n\nimport { useIntl } from '@edx/frontend-platform/i18n';\nimport PropTypes from 'prop-types';\n\nimport validateName from './validator';\nimport { useDispatch } from '../../../data/storeHooks';\nimport { clearRegistrationBackendError } from '../../registration-popup/data/reducers';\nimport TextField from '../text-field';\n\n/**\n * Name field wrapper. It accepts following handlers\n * - handleChange for setting value change and\n * - handleErrorChange for setting error\n *\n * It is responsible for\n * - Performing name field validations\n * - Clearing error on focus\n * - Setting value on change\n */\nconst NameField = (props) => {\n  const { formatMessage } = useIntl();\n  const dispatch = useDispatch();\n\n  const {\n    handleErrorChange,\n    errorMessage = '',\n  } = props;\n\n  const handleOnBlur = (e) => {\n    const { value } = e.target;\n\n    const fieldError = validateName(value, formatMessage);\n    if (fieldError) {\n      handleErrorChange('name', fieldError);\n    }\n  };\n\n  const handleOnFocus = () => {\n    handleErrorChange('name', '');\n    dispatch(clearRegistrationBackendError('name'));\n  };\n\n  return (\n    <TextField\n      {...props}\n      errorMessage={errorMessage}\n      handleBlur={handleOnBlur}\n      handleFocus={handleOnFocus}\n    />\n  );\n};\n\nNameField.propTypes = {\n  errorMessage: PropTypes.string,\n  value: PropTypes.string.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleErrorChange: PropTypes.func.isRequired,\n};\n\nexport default NameField;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,OAAO,QAAQ,6BAA6B;AACrD,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,YAAY,MAAM,aAAa;AACtC,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,6BAA6B,QAAQ,wCAAwC;AACtF,OAAOC,SAAS,MAAM,eAAe;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,SAAS,GAAIC,KAAK,IAAK;EAC3B,MAAM;IAAEC;EAAc,CAAC,GAAGR,OAAO,CAAC,CAAC;EACnC,MAAMS,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9B,MAAM;IACJO,iBAAiB;IACjBC,YAAY,GAAG;EACjB,CAAC,GAAGJ,KAAK;EAET,MAAMK,YAAY,GAAIC,CAAC,IAAK;IAC1B,MAAM;MAAEC;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAE1B,MAAMC,UAAU,GAAGd,YAAY,CAACY,KAAK,EAAEN,aAAa,CAAC;IACrD,IAAIQ,UAAU,EAAE;MACdN,iBAAiB,CAAC,MAAM,EAAEM,UAAU,CAAC;IACvC;EACF,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1BP,iBAAiB,CAAC,MAAM,EAAE,EAAE,CAAC;IAC7BD,QAAQ,CAACL,6BAA6B,CAAC,MAAM,CAAC,CAAC;EACjD,CAAC;EAED,oBACEL,KAAA,CAAAmB,aAAA,CAACb,SAAS,EAAAc,QAAA,KACJZ,KAAK;IACTI,YAAY,EAAEA,YAAa;IAC3BS,UAAU,EAAER,YAAa;IACzBS,WAAW,EAAEJ;EAAc,EAC5B,CAAC;AAEN,CAAC;AAEDX,SAAS,CAACgB,SAAS,GAAG;EACpBX,YAAY,EAAEV,SAAS,CAACsB,MAAM;EAC9BT,KAAK,EAAEb,SAAS,CAACsB,MAAM,CAACC,UAAU;EAClCC,YAAY,EAAExB,SAAS,CAACyB,IAAI,CAACF,UAAU;EACvCd,iBAAiB,EAAET,SAAS,CAACyB,IAAI,CAACF;AACpC,CAAC;AAED,eAAelB,SAAS","ignoreList":[]}